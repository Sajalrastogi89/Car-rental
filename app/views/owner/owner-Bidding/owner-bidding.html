<owner-navbar></owner-navbar>
<div class="container">
  <!-- Page Heading -->
  <div class="page-heading">
    <h1>Biddings</h1>
  </div>

  <!-- Filters Section -->
  <div class="filters">
    
  
    <!-- Sorting Dropdown -->
    <label for="sort">Sort By:</label>
    <select id="sort" ng-model="selectedSort">
      <option value="car.name">Car Name</option>
      <option value="-car.basePrice">Base Price (High to Low)</option>
      <option value="car.basePrice">Base Price (Low to High)</option>
    </select>
  </div>
  <div class="chat-list">
    <!-- Use ng-repeat with filters -->
    <div class="chat-item" 
         ng-repeat="bid in biddings 
         | orderBy: selectedSort"
         ng-if="bid.status==='pending'">
      
      <div class="chat-info">
        <div class="chat-image">
          <img ng-src="{{ bid.car.image }}" alt="Car Image">
        </div>
        <div class="chat-details">
          <div class="chat-car"><strong>Car Name:</strong> {{ bid.car.name }}</div>
          <div class="chat-model"><strong>Category:</strong> {{ bid.car.category }}</div>
          <div class="chat-base-price"><strong>Base Price:</strong> {{ bid.car.basePrice | currency:"₹" }}</div>
          <div class="chat-price-km"><strong>Price per Km:</strong> {{ bid.car.pricePerKm | currency:"₹" }}</div>
          <div class="chat-start-date"><strong>Start Date:</strong> {{ bid.car.startDate | date:'dd-MM-yyyy' }}</div>
          <div class="chat-end-date"><strong>End Date:</strong> {{ bid.car.endDate | date:'dd-MM-yyyy' }}</div>
        </div>   

        <!-- Accept & Reject Buttons -->
        <div class="chat-actions">
          <button class="accept-btn" ng-click="acceptBid(bid)">Accept</button>
          <button class="reject-btn" ng-click="rejectBid(bid)">Reject</button>
        </div>
      </div>
    </div>
  </div>
</div>
